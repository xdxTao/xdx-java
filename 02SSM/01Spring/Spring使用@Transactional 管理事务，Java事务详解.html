<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.14" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.50" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://vuepress-theme-hope-docs-demo.netlify.app/02SSM/01Spring/Spring%E4%BD%BF%E7%94%A8@Transactional%20%E7%AE%A1%E7%90%86%E4%BA%8B%E5%8A%A1%EF%BC%8CJava%E4%BA%8B%E5%8A%A1%E8%AF%A6%E8%A7%A3.html"><meta property="og:site_name" content="å°é“ä»™Javaç¬”è®°"><meta property="og:title" content="ã€ä¸­ã€‘Springä½¿ç”¨@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£"><meta property="og:description" content="Bç«™è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1eV411u7cg æŠ€æœ¯æ–‡æ¡£ï¼šhttps://d9bp4nr5ye.feishu.cn/wiki/HX50wdHFyiFoLrkfEAAcTBdinvh ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰© ç®€å•æ¥è¯´äº‹ç‰©å°±æ˜¯ä¸€ç»„å¯¹æ•°æ®åº“çš„æ“ä½œäº‹ç‰©è¦ä¿è¯å¯é æ€§ï¼Œå¿…é¡»å…·å¤‡å››ä¸ªç‰¹æ€§ï¼šACIDã€‚ Aï¼šåŸå­æ€§ï¼šäº‹ç‰©æ˜¯ä¸€ä¸ªåŸ..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-07-20T12:30:55.000Z"><meta property="article:author" content="å°é“ä»™97"><meta property="article:tag" content="Spring"><meta property="article:tag" content="äº‹ç‰©"><meta property="article:tag" content="äº‹ç‰©ç®¡ç†"><meta property="article:tag" content="Transactional"><meta property="article:published_time" content="2023-06-24T22:04:42.000Z"><meta property="article:modified_time" content="2024-07-20T12:30:55.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ã€ä¸­ã€‘Springä½¿ç”¨@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£","image":[""],"datePublished":"2023-06-24T22:04:42.000Z","dateModified":"2024-07-20T12:30:55.000Z","author":[{"@type":"Person","name":"å°é“ä»™97","url":"https://java.xdx97.com"}]}</script><title>ã€ä¸­ã€‘Springä½¿ç”¨@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£ | å°é“ä»™Javaç¬”è®°</title><meta name="description" content="Bç«™è§†é¢‘ï¼šhttps://www.bilibili.com/video/BV1eV411u7cg æŠ€æœ¯æ–‡æ¡£ï¼šhttps://d9bp4nr5ye.feishu.cn/wiki/HX50wdHFyiFoLrkfEAAcTBdinvh ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰© ç®€å•æ¥è¯´äº‹ç‰©å°±æ˜¯ä¸€ç»„å¯¹æ•°æ®åº“çš„æ“ä½œäº‹ç‰©è¦ä¿è¯å¯é æ€§ï¼Œå¿…é¡»å…·å¤‡å››ä¸ªç‰¹æ€§ï¼šACIDã€‚ Aï¼šåŸå­æ€§ï¼šäº‹ç‰©æ˜¯ä¸€ä¸ªåŸ...">
    <link rel="preload" href="/assets/style-ifFij3jd.css" as="style"><link rel="stylesheet" href="/assets/style-ifFij3jd.css">
    <link rel="modulepreload" href="/assets/app-RyNrWDts.js"><link rel="modulepreload" href="/assets/Springä½¿ç”¨@Transactional ç®¡ç†äº‹åŠ¡ï¼ŒJavaäº‹åŠ¡è¯¦è§£.html-5gv8xSwG.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/assets/index.html-BQWLnLiD.js" as="script"><link rel="prefetch" href="/assets/portfolio.html-uUmKJvj1.js" as="script"><link rel="prefetch" href="/assets/Javaé”ä¹‹ReentrantLockï¼ˆæºç è¯¦è§£ï¼‰.html-HfL2mLMf.js" as="script"><link rel="prefetch" href="/assets/Linuxå®‰è£…RocketMQã€é˜¿é‡Œäº‘ESCï¼ŒCentOS7__è¸©å‘æ— æ•°ã€‘.html-Cz-tRT4y.js" as="script"><link rel="prefetch" href="/assets/RocketMQ æ¶ˆè´¹è€…æºç è§£è¯»ï¼šæ¶ˆè´¹è¿‡ç¨‹ã€è´Ÿè½½åŸç†ã€é¡ºåºæ¶ˆè´¹åŸç†.html-CIkNSbDT.js" as="script"><link rel="prefetch" href="/assets/RocketMQ æ¶ˆè´¹è€…è¿è¡ŒåŸç†ï¼ŒConsumer é›†ç¾¤æ¶ˆè´¹ã€å¹¿æ’­æ¶ˆè´¹.html-DFQMW0Xs.js" as="script"><link rel="prefetch" href="/assets/RocketMQã€Kafkaã€RabbitMQ æ¶ˆè´¹åŸç†ï¼Œé¡ºåºæ¶ˆè´¹é—®é¢˜ã€å›¾æ–‡ç†è§£ã€‘.html-Bz5TuPq3.js" as="script"><link rel="prefetch" href="/assets/RocketMQä¹‹ Consumerï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åŸç†è§£æ.html-BMQaYpMV.js" as="script"><link rel="prefetch" href="/assets/è°ˆè°ˆæˆ‘ç†è§£çš„SpringCloudå’ŒKubernetesçš„åŒºåˆ«.html-BM8wkMjv.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd0IZ5BO.js" as="script"><link rel="prefetch" href="/assets/å·¥å‚æ¨¡å¼ã€åˆ›å»ºå‹æ¨¡å¼ã€‘.html-DiT-n3Ao.js" as="script"><link rel="prefetch" href="/assets/æ³•åˆ™.html-BAL_seqg.js" as="script"><link rel="prefetch" href="/assets/å…«å¤§æ’åºå›¾è§£ç®—æ³•.html-Cc6DuSsO.js" as="script"><link rel="prefetch" href="/assets/JVMå†…å­˜åŒºåŸŸè¯¦è§£ï¼Œä¸€æ–‡å¼„æ‡‚JVMå†…å­˜ã€å†…å­˜åˆ†å¸ƒã€å›æ”¶ç®—æ³•ã€åƒåœ¾å›æ”¶å™¨ã€‘.html-Dg3IgxIF.js" as="script"><link rel="prefetch" href="/assets/JVMå†…å­˜è°ƒä¼˜å¸¸ç”¨å‚æ•°.html-DQiMWLrt.js" as="script"><link rel="prefetch" href="/assets/Javaè¿›é˜¶ä¹‹Dumpæ–‡ä»¶åˆä½“éªŒ.html-Bqy2isuj.js" as="script"><link rel="prefetch" href="/assets/javaçº¿ä¸Šé—®é¢˜æ’æŸ¥å·¥å…·â€”â€”Arthas.html-3KBQn31b.js" as="script"><link rel="prefetch" href="/assets/index.html-1El3EcJ8.js" as="script"><link rel="prefetch" href="/assets/åœ°å€è§£æå’Œé€†åœ°å€è§£æã€å†™ä¸ªæ¼‚äº®çš„ä»£ç ä¸€ã€‘.html-Fb0pIyzp.js" as="script"><link rel="prefetch" href="/assets/Nominatimå…è´¹çš„åœ°å€è§£æï¼Œé€†åœ°å€è§£æï¼ŒOpenStreetMapå¼€æºåœ°å›¾æ•°æ®ã€å…¨ç½‘æœ€å…¨ã€‘.html-CAzy9mFr.js" as="script"><link rel="prefetch" href="/assets/SpringSecurityæœ€æ–°å­¦ä¹ ï¼Œspring-security-oauth2-authorization-serverã€spring-security-oauth2å‡çº§ã€‘.html-Cc4R9WTT.js" as="script"><link rel="prefetch" href="/assets/å…è´¹å¼€æºçš„åœ°å›¾è§£æå·¥å…·ã€å¿«é€Ÿä¸Šæ‰‹ã€‘.html-H_W2OP9W.js" as="script"><link rel="prefetch" href="/assets/æ¨¡æ¿.html-DSMxgDse.js" as="script"><link rel="prefetch" href="/assets/Javaçº¿ç¨‹æ± è¿è¡ŒåŸç†ï¼Œçº¿ç¨‹æ± æºç è§£è¯»ã€Javaçº¿ç¨‹æ± å­¦ä¹ äºŒã€‘.html-B-oDe0cn.js" as="script"><link rel="prefetch" href="/assets/index.html-CR07GdOB.js" as="script"><link rel="prefetch" href="/assets/çº¿ç¨‹æ± æœ€ä¼˜ä½¿ç”¨ç­–ç•¥ã€Javaçº¿ç¨‹æ± å­¦ä¹ ä¸€ã€‘.html-COWw4VuW.js" as="script"><link rel="prefetch" href="/assets/ArrayListæ‰©å®¹æœºåˆ¶æºç åˆ†æ.html-C-ueaa4o.js" as="script"><link rel="prefetch" href="/assets/HashMapæ‰©å®¹æœºåˆ¶æºç åˆ†æ.html-uk9R6uSn.js" as="script"><link rel="prefetch" href="/assets/index.html-CcH8c2XM.js" as="script"><link rel="prefetch" href="/assets/Dubbo-Admin å®è·µï¼ŒDubbo3 é…ç½®å¤šåè®®ï¼ŒåŒæ—¶æä¾›Dubboå’ŒHTTPåè®®.html-4XsJZh7O.js" as="script"><link rel="prefetch" href="/assets/Dubboå…¥é—¨é¡¹ç›®æ­å»ºã€Dubbo3.2.9ã€Nacos2.3.0ã€SpringBoot 2.7.17ã€Dubbo-Admin 0.6.0ã€‘.html-CRRjYTMe.js" as="script"><link rel="prefetch" href="/assets/index.html-B09X9B_J.js" as="script"><link rel="prefetch" href="/assets/index.html-CqypM3TO.js" as="script"><link rel="prefetch" href="/assets/docker-compose å®‰è£…Nacos.html-CJdPd3s7.js" as="script"><link rel="prefetch" href="/assets/index.html-D67xfvbm.js" as="script"><link rel="prefetch" href="/assets/Sentinel è§„åˆ™æŒä¹…åŒ–ï¼ŒåŸºäºRedisæŒä¹…åŒ–ã€é™„å¸¦æºç ã€‘.html-D5iIw6Ii.js" as="script"><link rel="prefetch" href="/assets/Sentinelä»å…¥é—¨åˆ°â€œç²¾é€šâ€ï¼Œä»æºç å±‚é¢å­¦ä¹ Sentinel.html-CaYDcKbn.js" as="script"><link rel="prefetch" href="/assets/index.html-DbfuWX1C.js" as="script"><link rel="prefetch" href="/assets/SkyWalking å…¥é—¨.html-DIZ4mVO6.js" as="script"><link rel="prefetch" href="/assets/K8Sã€kubernetes no resolver defined to resolve  could not be resolved (3_ Host not found) é—®é¢˜è§£å†³.html-nDHw6v7O.js" as="script"><link rel="prefetch" href="/assets/index.html-gh5mekhV.js" as="script"><link rel="prefetch" href="/assets/Javaæ—¥å¿—æºç è¯¦è§£ï¼ŒSpringBootæ—¥å¿— slf4jã€logbackã€log4j.html-BoSQWOht.js" as="script"><link rel="prefetch" href="/assets/index.html-VACGHEBX.js" as="script"><link rel="prefetch" href="/assets/HTTPæ‰§è¡Œæµç¨‹ï¼ŒSpringMVCæ‰§è¡Œæµç¨‹ï¼ŒJavaä¸€æ¬¡HTTPè¯·æ±‚å®¹å™¨åšäº†å“ªäº›äº‹æƒ…ï¼Œè¿‡æ»¤å™¨ã€æ‹¦æˆªå™¨ã€AOPæ‰§è¡Œæµç¨‹ã€è¶…è¯¦ç»†è§£ç­”ã€‘.html-Bo0bhW4B.js" as="script"><link rel="prefetch" href="/assets/index.html-Bvwvfe4-.js" as="script"><link rel="prefetch" href="/assets/Javaå…¨å±€å¼‚å¸¸å¤„ç†ï¼Œ@ControllerAdviceå¼‚å¸¸æ‹¦æˆªåŸç†è§£æã€ç®€å•æ˜“æ‡‚ã€‘.html-BtXWLnHa.js" as="script"><link rel="prefetch" href="/assets/index.html-COZPAhSa.js" as="script"><link rel="prefetch" href="/assets/SpringBoot çƒ­æ’æ‹”AOPï¼ŒåŠ¨æ€çš„å®ç°AOPã€ç®€å•æ˜“æ‡‚ï¼Œæœ‰å¤§ç”¨ã€‘.html-D2bliViF.js" as="script"><link rel="prefetch" href="/assets/Springäº‹åŠ¡æºç è§£æã€ä¸€æ¬¡ä¸€ç¯‡æ–‡ç« å¼„æ‡‚ã€‘.html-DdIagM-Y.js" as="script"><link rel="prefetch" href="/assets/ä¸€æ–‡å¼„æ‡‚@Asyncä»£ç†æ‰§è¡ŒåŸç†ï¼ˆä»æºç çš„è§’åº¦æ·±å…¥ç†è§£@EnableAsync æ³¨è§£å¼€å¯åŸç†ï¼‰.html-56zIjEz0.js" as="script"><link rel="prefetch" href="/assets/MyBatis æ‰§è¡ŒåŸç†ï¼Œæºç è§£è¯»ï¼ŒåŸºäºSpringBootè®²è§£.html-CDC5_f_U.js" as="script"><link rel="prefetch" href="/assets/index.html-DK0yWfVX.js" as="script"><link rel="prefetch" href="/assets/åŸºäºMyBatisäºŒçº§ç¼“å­˜æ·±å…¥è£…é¥°å™¨æ¨¡å¼.html-BzzdMrxW.js" as="script"><link rel="prefetch" href="/assets/æ·±å…¥ç†è§£MyBatisä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ã€è¶…è¯¦ç»†æºç è§£æã€‘.html-CZ3tDjwV.js" as="script"><link rel="prefetch" href="/assets/Gitå‘½ä»¤.html--3GemMi4.js" as="script"><link rel="prefetch" href="/assets/Gitè¿›é˜¶ä¹‹ä»£ç å›æ»šã€åˆå¹¶ä»£ç ã€ä»Aåˆ†æ”¯é€‰æ‹©Næ¬¡æäº¤ï¼Œåˆå¹¶åˆ°Båˆ†æ”¯ã€revertã€mergeã€rebaseã€cherry-pickã€‘.html-ll5r7cnp.js" as="script"><link rel="prefetch" href="/assets/index.html-2iLCNIMl.js" as="script"><link rel="prefetch" href="/assets/index.html-CnbvI5iw.js" as="script"><link rel="prefetch" href="/assets/index.html-BfI0rKg2.js" as="script"><link rel="prefetch" href="/assets/index.html-Csrhau8V.js" as="script"><link rel="prefetch" href="/assets/å…è´¹ç®€å•å¥½ç”¨çš„å†…ç½‘ç©¿é€å·¥å…·ï¼ˆngrokã€natappï¼‰ï¼Œå¾®ä¿¡å›è°ƒåœ°å€é…ç½®.html-D03on3PP.js" as="script"><link rel="prefetch" href="/assets/index.html-CARmZbBW.js" as="script"><link rel="prefetch" href="/assets/Rediså¸¸ç”¨å‘½ä»¤.html-ClRMcfVT.js" as="script"><link rel="prefetch" href="/assets/Redisé›†ç¾¤ä¹‹ä¸»ä»ã€å“¨å…µã€åˆ†ç‰‡é›†ç¾¤ï¼ŒSpringBootæ•´åˆRedisé›†ç¾¤.html-B54rB8vm.js" as="script"><link rel="prefetch" href="/assets/å¸ƒéš†è¿‡æ»¤å™¨ï¼ŒRedisä¹‹ bitmapï¼Œåœºæ™¯é¢˜ã€å¦‚æœå¾®åšæŸä¸ªå¤§Vå‘äº†ä¸€æ¡æ¶ˆæ¯ï¼Œæ€ä¹ˆç»Ÿè®¡æœ‰å¤šå°‘äººçœ‹è¿‡äº†ã€‘.html-TMkxYWtv.js" as="script"><link rel="prefetch" href="/assets/ES 8.xå¼€å§‹ï¼ˆdocker-composeå®‰è£…ã€kibanaä½¿ç”¨ã€javaæ“ä½œï¼‰.html-BdmOlzB5.js" as="script"><link rel="prefetch" href="/assets/index.html-Dl3hOUrK.js" as="script"><link rel="prefetch" href="/assets/index.html-DgBJTKtz.js" as="script"><link rel="prefetch" href="/assets/EasyExcelå¯¼å‡ºæ¨¡æ¿å®ç°ä¸‹æ‹‰é€‰ï¼ˆè§£å†³ä¸‹æ‹‰è¶…è¿‡50ä¸ªé™åˆ¶ï¼‰.html-xtp0IVQs.js" as="script"><link rel="prefetch" href="/assets/å¦‚ä½•åšåˆ°ä¸è¿è¡¨æŸ¥è¯¢.html-D-j6GSRj.js" as="script"><link rel="prefetch" href="/assets/MySQLæ‰§è¡Œè¿‡ç¨‹ï¼ˆä¸€æ¡SQLä»Javaåˆ°æ•°æ®åº“éƒ½ç»å†äº†ä»€ä¹ˆï¼‰.html-DoSwKc2R.js" as="script"><link rel="prefetch" href="/assets/MySQLç´¢å¼•è¯¦è§£ã€B_Treeç´¢å¼•ã€å“ˆå¸Œç´¢å¼•ã€å…¨æ–‡ç´¢å¼•ã€è¦†ç›–ç´¢å¼•ã€‘.html-DH-DH_YO.js" as="script"><link rel="prefetch" href="/assets/MySQLï¼ŒMVCCè¯¦è§£ï¼Œå¿«ç…§è¯»åœ¨RCã€RRä¸‹çš„åŒºåˆ«.html-C2FZzdi9.js" as="script"><link rel="prefetch" href="/assets/index.html-cQKpwe8P.js" as="script"><link rel="prefetch" href="/assets/ä¸€æ–‡å¼„æ‡‚MySQLé”æœºåˆ¶ã€è®°å½•é”ã€é—´éš™é”ã€ä¸´é”®é”ï¼Œå…±äº«é”ã€æ’ä»–é”ï¼Œæ„å‘é”ã€‘.html-DzAT_YGs.js" as="script"><link rel="prefetch" href="/assets/404.html-NNx1YRnf.js" as="script"><link rel="prefetch" href="/assets/index.html-CbuuTfDo.js" as="script"><link rel="prefetch" href="/assets/index.html-UASn5gsH.js" as="script"><link rel="prefetch" href="/assets/index.html-ZZs55vqc.js" as="script"><link rel="prefetch" href="/assets/index.html-DGpjmHGA.js" as="script"><link rel="prefetch" href="/assets/index.html-Q-KOWBiM.js" as="script"><link rel="prefetch" href="/assets/index.html-DyFp9MwI.js" as="script"><link rel="prefetch" href="/assets/index.html-BzGLAfVc.js" as="script"><link rel="prefetch" href="/assets/index.html-Dls7-MNE.js" as="script"><link rel="prefetch" href="/assets/index.html-QYqW1t5D.js" as="script"><link rel="prefetch" href="/assets/index.html-Bi8zv41U.js" as="script"><link rel="prefetch" href="/assets/index.html-DdA6mmNR.js" as="script"><link rel="prefetch" href="/assets/index.html-DgjLXAEG.js" as="script"><link rel="prefetch" href="/assets/index.html-BXmEty4W.js" as="script"><link rel="prefetch" href="/assets/index.html-DxLghlRC.js" as="script"><link rel="prefetch" href="/assets/index.html-D0RxgKnS.js" as="script"><link rel="prefetch" href="/assets/index.html-l_g8MBCu.js" as="script"><link rel="prefetch" href="/assets/index.html-Cbh56NGk.js" as="script"><link rel="prefetch" href="/assets/index.html-CwPrruhD.js" as="script"><link rel="prefetch" href="/assets/index.html-Bk0nHvBp.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ7nuLue.js" as="script"><link rel="prefetch" href="/assets/index.html-0rbrq9Wi.js" as="script"><link rel="prefetch" href="/assets/index.html-B8Y1t9mV.js" as="script"><link rel="prefetch" href="/assets/index.html-iyZaAc-x.js" as="script"><link rel="prefetch" href="/assets/index.html-DZVCUVYH.js" as="script"><link rel="prefetch" href="/assets/index.html-C7PDKSW5.js" as="script"><link rel="prefetch" href="/assets/index.html-DkY7radg.js" as="script"><link rel="prefetch" href="/assets/index.html-egunzQeo.js" as="script"><link rel="prefetch" href="/assets/index.html-Qs-C35ZW.js" as="script"><link rel="prefetch" href="/assets/index.html-BxczYyuW.js" as="script"><link rel="prefetch" href="/assets/index.html-tQWLofX8.js" as="script"><link rel="prefetch" href="/assets/index.html-E9ZDtKnE.js" as="script"><link rel="prefetch" href="/assets/index.html-B9AUtOIP.js" as="script"><link rel="prefetch" href="/assets/index.html-Co5CDAxV.js" as="script"><link rel="prefetch" href="/assets/index.html-DeGw73Lg.js" as="script"><link rel="prefetch" href="/assets/index.html-DX31ioAR.js" as="script"><link rel="prefetch" href="/assets/index.html-BCt9haR5.js" as="script"><link rel="prefetch" href="/assets/index.html-C_49YgT8.js" as="script"><link rel="prefetch" href="/assets/index.html-9lhrWv8M.js" as="script"><link rel="prefetch" href="/assets/index.html-G5e872sJ.js" as="script"><link rel="prefetch" href="/assets/index.html-Dlz9rfQF.js" as="script"><link rel="prefetch" href="/assets/index.html-d7Ir3Mu7.js" as="script"><link rel="prefetch" href="/assets/index.html-BCFfSlAu.js" as="script"><link rel="prefetch" href="/assets/index.html-BggRm3Ww.js" as="script"><link rel="prefetch" href="/assets/index.html-DaquMprP.js" as="script"><link rel="prefetch" href="/assets/index.html-CTO0-fy1.js" as="script"><link rel="prefetch" href="/assets/index.html-CMuoiLgh.js" as="script"><link rel="prefetch" href="/assets/index.html-CD4zQpWF.js" as="script"><link rel="prefetch" href="/assets/index.html-CBZC7FGx.js" as="script"><link rel="prefetch" href="/assets/index.html-DXLJ8_kc.js" as="script"><link rel="prefetch" href="/assets/index.html-NioCfz2J.js" as="script"><link rel="prefetch" href="/assets/index.html-BLEbYgbP.js" as="script"><link rel="prefetch" href="/assets/index.html-DaIV35FZ.js" as="script"><link rel="prefetch" href="/assets/index.html-YgSA6Fnz.js" as="script"><link rel="prefetch" href="/assets/index.html-BOoiSbrR.js" as="script"><link rel="prefetch" href="/assets/index.html-D0QlKBBN.js" as="script"><link rel="prefetch" href="/assets/index.html-Dsyoz1WV.js" as="script"><link rel="prefetch" href="/assets/index.html-D7xXLLMU.js" as="script"><link rel="prefetch" href="/assets/index.html-BTS231Hz.js" as="script"><link rel="prefetch" href="/assets/index.html-DyKacTTr.js" as="script"><link rel="prefetch" href="/assets/index.html-CSR1KAAL.js" as="script"><link rel="prefetch" href="/assets/index.html-B4wzxwB9.js" as="script"><link rel="prefetch" href="/assets/index.html-BGghoLfA.js" as="script"><link rel="prefetch" href="/assets/index.html-Bv8fzNNn.js" as="script"><link rel="prefetch" href="/assets/index.html-Dw-6RY8x.js" as="script"><link rel="prefetch" href="/assets/index.html-CTBEPYyG.js" as="script"><link rel="prefetch" href="/assets/index.html-DyaO_VJT.js" as="script"><link rel="prefetch" href="/assets/index.html-DeCm9KvV.js" as="script"><link rel="prefetch" href="/assets/index.html-BXq4mm72.js" as="script"><link rel="prefetch" href="/assets/index.html-ytKawgKw.js" as="script"><link rel="prefetch" href="/assets/index.html-4QoLV2hX.js" as="script"><link rel="prefetch" href="/assets/index.html-Ebl90tuQ.js" as="script"><link rel="prefetch" href="/assets/index.html-CKAGv58Z.js" as="script"><link rel="prefetch" href="/assets/index.html-gVp1uwBO.js" as="script"><link rel="prefetch" href="/assets/index.html-D9rdAeOx.js" as="script"><link rel="prefetch" href="/assets/index.html-5ntDhvvI.js" as="script"><link rel="prefetch" href="/assets/index.html-CI6y4j61.js" as="script"><link rel="prefetch" href="/assets/index.html-Cg-64KNB.js" as="script"><link rel="prefetch" href="/assets/index.html-B9fyQzH5.js" as="script"><link rel="prefetch" href="/assets/index.html-skyEZUPT.js" as="script"><link rel="prefetch" href="/assets/index.html-CGYpKp5Q.js" as="script"><link rel="prefetch" href="/assets/index.html-CGMtK_Yn.js" as="script"><link rel="prefetch" href="/assets/index.html-k2twWJP8.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/./logo.svg" alt><!----><span class="vp-site-name hide-in-pad">å°é“ä»™Javaç¬”è®°</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/01Java/" aria-label="å¼€å§‹"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="lightbulb" width="1em" height="1em"></iconify-icon><!--]-->å¼€å§‹<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/portfolio.html" aria-label="æ¡£æ¡ˆä¸»é¡µGO"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="home" width="1em" height="1em"></iconify-icon><!--]-->æ¡£æ¡ˆä¸»é¡µGO<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/timeline/" aria-label="æ—¶é—´è½´"><!---->æ—¶é—´è½´<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="hugeicons:java" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/01Java/" aria-label="Java"><!---->Java<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:spring" width="1em" height="1em"></iconify-icon><a class="route-link route-link-active auto-link vp-sidebar-title no-external-link-icon" href="/02SSM/" aria-label="SSM"><!---->SSM<!----></a><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">1:Spring</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/02SSM/01Spring/Java%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%8C@ControllerAdvice%E5%BC%82%E5%B8%B8%E6%8B%A6%E6%88%AA%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90%E3%80%90%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%E3%80%91.html" aria-label="ã€ä¸­ã€‘@ControllerAdviceå¼‚å¸¸æ‹¦æˆªåŸç†è§£æ"><!---->ã€ä¸­ã€‘@ControllerAdviceå¼‚å¸¸æ‹¦æˆªåŸç†è§£æ<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/02SSM/01Spring/Spring%E4%BD%BF%E7%94%A8@Transactional%20%E7%AE%A1%E7%90%86%E4%BA%8B%E5%8A%A1%EF%BC%8CJava%E4%BA%8B%E5%8A%A1%E8%AF%A6%E8%A7%A3.html" aria-label="ã€ä¸­ã€‘@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£"><!---->ã€ä¸­ã€‘@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/02SSM/01Spring/SpringBoot%20%E7%83%AD%E6%8F%92%E6%8B%94AOP%EF%BC%8C%E5%8A%A8%E6%80%81%E7%9A%84%E5%AE%9E%E7%8E%B0AOP%E3%80%90%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%EF%BC%8C%E6%9C%89%E5%A4%A7%E7%94%A8%E3%80%91.html" aria-label="ã€ä¸­ã€‘åŠ¨æ€çš„å®ç°AOP"><!---->ã€ä¸­ã€‘åŠ¨æ€çš„å®ç°AOP<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/02SSM/01Spring/%E4%B8%80%E6%96%87%E5%BC%84%E6%87%82@Async%E4%BB%A3%E7%90%86%E6%89%A7%E8%A1%8C%E5%8E%9F%E7%90%86%EF%BC%88%E4%BB%8E%E6%BA%90%E7%A0%81%E7%9A%84%E8%A7%92%E5%BA%A6%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3@EnableAsync%20%E6%B3%A8%E8%A7%A3%E5%BC%80%E5%90%AF%E5%8E%9F%E7%90%86%EF%BC%89.html" aria-label="ã€ä¸­ã€‘ä¸€æ–‡å¼„æ‡‚@Asyncä»£ç†æ‰§è¡ŒåŸç†"><!---->ã€ä¸­ã€‘ä¸€æ–‡å¼„æ‡‚@Asyncä»£ç†æ‰§è¡ŒåŸç†<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/02SSM/01Spring/Spring%E4%BA%8B%E5%8A%A1%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E3%80%90%E4%B8%80%E6%AC%A1%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E5%BC%84%E6%87%82%E3%80%91.html" aria-label="ã€ä¸­ã€‘Springäº‹åŠ¡æºç è§£æ"><!---->ã€ä¸­ã€‘Springäº‹åŠ¡æºç è§£æ<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">2:SpringBoot</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">3:SpringMVC</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">4:MyBatis/MyBatis-Plus</span><span class="vp-arrow end"></span></button><!----></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="teenyicons:database-outline" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/03%E6%95%B0%E6%8D%AE%E5%BA%93/" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="simple-icons:apacherocketmq" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/05%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="carbon:microservices-2" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/06%E5%BE%AE%E6%9C%8D%E5%8A%A1/" aria-label="å¾®æœåŠ¡"><!---->å¾®æœåŠ¡<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="arcticons:fdroid-nearby" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/07Java%E5%91%A8%E8%BE%B9/" aria-label="Javaå‘¨è¾¹"><!---->Javaå‘¨è¾¹<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><a class="route-link auto-link vp-sidebar-link" href="/08%E6%BA%90%E7%A0%81%E5%AD%A6%E4%B9%A0/" aria-label="æºç å­¦ä¹ "><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="hugeicons:source-code" width="1em" height="1em"></iconify-icon><!--]-->æºç å­¦ä¹ <!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="carbon:character-patterns" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/10%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:think-outline" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/12%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95/" aria-label="å¸¸è§ç®—æ³•"><!---->å¸¸è§ç®—æ³•<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="teenyicons:depth-chart-outline" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/15JVM/" aria-label="JVM"><!---->JVM<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="teenyicons:docker-outline" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/18docker-compose/" aria-label="docker-compose"><!---->docker-compose<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="cbi:scene-concentrate" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/19%E5%9C%BA%E6%99%AF%E9%A2%98/" aria-label="åœºæ™¯é¢˜"><!---->åœºæ™¯é¢˜<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="basil:other-1-outline" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/20æ‚é¡¹/" aria-label="æ‚é¡¹"><!---->æ‚é¡¹<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="ant-design:exception-outlined" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/25å¼‚å¸¸é›†åˆ/" aria-label="å¼‚å¸¸é›†åˆ"><!---->å¼‚å¸¸é›†åˆ<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="arcticons:nicefeed" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/25%E5%86%99%E4%B8%AA%E6%BC%82%E4%BA%AE%E7%9A%84%E4%BB%A3%E7%A0%81/" aria-label="å†™ä¸ªæ¼‚äº®çš„ä»£ç "><!---->å†™ä¸ªæ¼‚äº®çš„ä»£ç <!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><iconify-icon class="font-icon icon" style="" mode="style" inline icon="system-uicons:expand" width="1em" height="1em"></iconify-icon><a class="route-link auto-link vp-sidebar-title no-external-link-icon" href="/30%E6%89%A9%E5%B1%95%E5%AD%A6%E4%B9%A0/" aria-label="æ‰©å±•å­¦ä¹ "><!---->æ‰©å±•å­¦ä¹ <!----></a><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ã€ä¸­ã€‘Springä½¿ç”¨@Transactional ç®¡ç†äº‹ç‰©ï¼ŒJavaäº‹ç‰©è¯¦è§£</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://java.xdx97.com" target="_blank" rel="noopener noreferrer">å°é“ä»™97</a></span><span property="author" content="å°é“ä»™97"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-06-24T22:04:42.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 10 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT10M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color0 clickable" role="navigation">ä¸­çº§</span><span class="page-category-item color0 clickable" role="navigation">è§†é¢‘è®²è§£</span><!--]--><meta property="articleSection" content="ä¸­çº§,è§†é¢‘è®²è§£"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color1 clickable" role="navigation">Spring</span><span class="page-tag-item color6 clickable" role="navigation">äº‹ç‰©</span><span class="page-tag-item color1 clickable" role="navigation">äº‹ç‰©ç®¡ç†</span><span class="page-tag-item color8 clickable" role="navigation">Transactional</span><!--]--><meta property="keywords" content="Spring,äº‹ç‰©,äº‹ç‰©ç®¡ç†,Transactional"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<!----><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰©">ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰©</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äºŒã€ä»€ä¹ˆæ˜¯å£°æ˜äº‹ç‰©-ä»€ä¹ˆæ˜¯ç¼–ç¨‹äº‹ç‰©">äºŒã€ä»€ä¹ˆæ˜¯å£°æ˜äº‹ç‰©ï¼Œä»€ä¹ˆæ˜¯ç¼–ç¨‹äº‹ç‰©</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å£°æ˜äº‹ç‰©">å£°æ˜äº‹ç‰©</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–ç¨‹äº‹ç‰©">ç¼–ç¨‹äº‹ç‰©</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ä¸‰ã€spring-å¦‚ä½•å®ç°å£°æ˜äº‹ç‰©å’Œç¼–ç¨‹äº‹ç‰©çš„">ä¸‰ã€Spring å¦‚ä½•å®ç°å£°æ˜äº‹ç‰©å’Œç¼–ç¨‹äº‹ç‰©çš„</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å£°æ˜äº‹ç‰©-1">å£°æ˜äº‹ç‰©</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼–ç¨‹äº‹ç‰©-1">ç¼–ç¨‹äº‹ç‰©</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å››ã€å£°æ˜äº‹ç‰©æ˜¯æ€ä¹ˆå®ç°çš„">å››ã€å£°æ˜äº‹ç‰©æ˜¯æ€ä¹ˆå®ç°çš„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äº”ã€-transactional-æ³¨è§£çš„å‚æ•°">äº”ã€@Transactional æ³¨è§£çš„å‚æ•°</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#propagation-äº‹ç‰©ä¼ æ’­è¡Œä¸º">propagation (äº‹ç‰©ä¼ æ’­è¡Œä¸º)</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#isolation-äº‹ç‰©éš”ç¦»çº§åˆ«">isolationï¼ˆäº‹ç‰©éš”ç¦»çº§åˆ«ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…­ã€-transactional-å®è·µ">å…­ã€@Transactional å®è·µ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç†è®º">ç†è®º</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®è·µ">å®è·µ</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content"><p>Bç«™è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1eV411u7cg" target="_blank" rel="noopener noreferrer">https://www.bilibili.com/video/BV1eV411u7cg</a></p><p>æŠ€æœ¯æ–‡æ¡£ï¼š<a href="https://d9bp4nr5ye.feishu.cn/wiki/HX50wdHFyiFoLrkfEAAcTBdinvh" target="_blank" rel="noopener noreferrer">https://d9bp4nr5ye.feishu.cn/wiki/HX50wdHFyiFoLrkfEAAcTBdinvh</a></p><br><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰©"><span>ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ç‰©</span></a></h2><br><p>ç®€å•æ¥è¯´äº‹ç‰©å°±æ˜¯ä¸€ç»„å¯¹æ•°æ®åº“çš„æ“ä½œ<!---->äº‹ç‰©è¦ä¿è¯å¯é æ€§ï¼Œå¿…é¡»å…·å¤‡å››ä¸ªç‰¹æ€§ï¼šACIDã€‚</p><ul><li>Aï¼šåŸå­æ€§ï¼šäº‹ç‰©æ˜¯ä¸€ä¸ªåŸå­æ“ä½œå•å…ƒï¼Œè¦ä¹ˆå®Œå…¨æ‰§è¡Œï¼Œè¦ä¹ˆå®Œå…¨ä¸æ‰§è¡Œã€‚äº‹ç‰©ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œæ²¡æœ‰ä¸­é—´çŠ¶æ€ã€‚</li><li>Cï¼šä¸€è‡´æ€§ï¼šäº‹ç‰©åœ¨æ‰§è¡Œå‰å’Œæ‰§è¡Œåéƒ½å¿…é¡»ä¿æŒæ•°æ®åº“çš„ä¸€è‡´æ€§çŠ¶æ€ã€‚</li><li>Iï¼šéš”ç¦»æ€§ï¼šäº‹ç‰©çš„éš”ç¦»æ€§ç¡®ä¿å¹¶å‘æ‰§è¡Œçš„äº‹ç‰©å½¼æ­¤ä¸ä¼šç›¸äº’å¹²æ‰°ã€‚</li><li>Dï¼šä¸€è‡´æ€§ï¼šä¸€æ—¦äº‹ç‰©æäº¤ï¼Œå…¶ç»“æœåº”è¯¥æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿åœ¨ç³»ç»Ÿæ•…éšœçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li></ul><br><h2 id="äºŒã€ä»€ä¹ˆæ˜¯å£°æ˜äº‹ç‰©-ä»€ä¹ˆæ˜¯ç¼–ç¨‹äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#äºŒã€ä»€ä¹ˆæ˜¯å£°æ˜äº‹ç‰©-ä»€ä¹ˆæ˜¯ç¼–ç¨‹äº‹ç‰©"><span>äºŒã€ä»€ä¹ˆæ˜¯å£°æ˜äº‹ç‰©ï¼Œä»€ä¹ˆæ˜¯ç¼–ç¨‹äº‹ç‰©</span></a></h2><h3 id="å£°æ˜äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#å£°æ˜äº‹ç‰©"><span>å£°æ˜äº‹ç‰©</span></a></h3><p>å£°æ˜å¼äº‹ç‰©æ˜¯é€šè¿‡é…ç½®çš„æ–¹å¼æ¥ç®¡ç†äº‹ç‰©çš„è¡Œä¸ºï¼Œå£°æ˜å¼äº‹ç‰©çš„å¥½å¤„æ˜¯å¯ä»¥å°†äº‹ç‰©ç®¡ç†ä¸ä¸šåŠ¡é€»è¾‘ç›¸åˆ†ç¦»ï¼Œæé«˜äº†ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ã€‚</p><br><h3 id="ç¼–ç¨‹äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#ç¼–ç¨‹äº‹ç‰©"><span>ç¼–ç¨‹äº‹ç‰©</span></a></h3><p>ç¼–ç¨‹å¼äº‹ç‰©æ˜¯é€šè¿‡ç¼–å†™ä»£ç æ˜¾å¼åœ°ç®¡ç†äº‹ç‰©çš„å¼€å§‹ã€æäº¤å’Œå›æ»šã€‚ä½¿ç”¨ç¼–ç¨‹å¼äº‹ç‰©å¯ä»¥æ›´åŠ çµæ´»åœ°æ§åˆ¶äº‹ç‰©çš„ç»†èŠ‚ï¼Œä½†éœ€è¦æ›´å¤šçš„ä»£ç æ¥å¤„ç†äº‹ç‰©ç®¡ç†ï¼Œå¯èƒ½å¯¼è‡´ä»£ç çš„å†—ä½™å’Œå¢åŠ äº†å¤æ‚æ€§ã€‚</p><br><h2 id="ä¸‰ã€spring-å¦‚ä½•å®ç°å£°æ˜äº‹ç‰©å’Œç¼–ç¨‹äº‹ç‰©çš„" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€spring-å¦‚ä½•å®ç°å£°æ˜äº‹ç‰©å’Œç¼–ç¨‹äº‹ç‰©çš„"><span>ä¸‰ã€Spring å¦‚ä½•å®ç°å£°æ˜äº‹ç‰©å’Œç¼–ç¨‹äº‹ç‰©çš„</span></a></h2><h3 id="å£°æ˜äº‹ç‰©-1" tabindex="-1"><a class="header-anchor" href="#å£°æ˜äº‹ç‰©-1"><span>å£°æ˜äº‹ç‰©</span></a></h3><p>å£°æ˜äº‹ç‰©çš„ä»£ç å¾ˆç®€å•ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ç»å¸¸ä½¿ç”¨çš„ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.stereotype.Service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.transaction.annotation.Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> UserService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> performTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        // äº‹ç‰©é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h3 id="ç¼–ç¨‹äº‹ç‰©-1" tabindex="-1"><a class="header-anchor" href="#ç¼–ç¨‹äº‹ç‰©-1"><span>ç¼–ç¨‹äº‹ç‰©</span></a></h3><p>ç¼–ç¨‹äº‹ç‰©ï¼Œéœ€è¦è‡ªå·±æ¥æ§åˆ¶äº‹ç‰©çš„æµç¨‹ï¼Œæ›´åŠ çµæ´»ä½†ä¹Ÿæ›´åŠ å¤æ‚ï¼Œä¸€èˆ¬ä¸å»ºè®®ä½¿ç”¨ã€‚ï¼ˆå®é™…ä¸Šæˆ‘ä¹Ÿæ²¡åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ç”¨è¿‡ï¼‰</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.beans.factory.annotation.Autowired</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.stereotype.Service</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.transaction.TransactionStatus</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.transaction.support.TransactionCallbackWithoutResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> org.springframework.transaction.support.TransactionTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Service</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> TransactionService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> TransactionTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> transactionTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Autowired</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> TransactionService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">TransactionTemplate</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> transactionTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">transactionTemplate</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> transactionTemplate;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> performTransaction</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        transactionTemplate</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> TransactionCallbackWithoutResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">            protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> doInTransactionWithoutResult</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">TransactionStatus</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> status</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">                    // äº‹ç‰©é€»è¾‘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">Exception</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">                    status</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">setRollbackOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">                    throw</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> e;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="å››ã€å£°æ˜äº‹ç‰©æ˜¯æ€ä¹ˆå®ç°çš„" tabindex="-1"><a class="header-anchor" href="#å››ã€å£°æ˜äº‹ç‰©æ˜¯æ€ä¹ˆå®ç°çš„"><span>å››ã€å£°æ˜äº‹ç‰©æ˜¯æ€ä¹ˆå®ç°çš„</span></a></h2><br><p>è™½ç„¶æˆ‘ä»¬å®ç°äº‹ç‰©çš„æ–¹å¼æœ‰å£°æ˜å¼å’Œç¼–ç¨‹å¼ï¼Œä½†åœ¨å®é™…çš„ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬åªä¼šç”¨å£°æ˜å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦æ¥æ·±å…¥ç†è§£ä¸€ä¸‹å£°æ˜äº‹ç‰©ã€‚</p><p>å…¶å®ç®€å•æ¥è¯´åœ¨Springä¸­ï¼Œæˆ‘ä»¬å¼€å¯å£°æ˜äº‹ç‰©ç”¨çš„æ˜¯<code>@Transactional</code> ï¼Œæœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨çš„ ä»£ç†å’ŒAOPæ¥å®ç°ã€‚</p><ol><li>äº‹ç‰©æ‹¦æˆªå™¨é“¾ï¼ˆInterceptor Chainï¼‰ï¼šSpringçš„å£°æ˜å¼äº‹ç‰©ä¾èµ–äºAOPæŠ€æœ¯ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡å¹¶åˆ›å»ºäº‹ç‰©æ‹¦æˆªå™¨é“¾ã€‚åœ¨æ–¹æ³•è°ƒç”¨é“¾ä¸­ï¼Œæ¯ä¸ªäº‹ç‰©æ‹¦æˆªå™¨éƒ½ä¼šè¢«ä¾æ¬¡è°ƒç”¨ï¼Œå¹¶æ ¹æ®äº‹ç‰©å±æ€§çš„å®šä¹‰å†³å®šæ˜¯å¦å¼€å¯ã€æäº¤æˆ–å›æ»šäº‹ç‰©ã€‚</li><li>äº‹ç‰©åˆ‡ç‚¹ï¼ˆTransaction Pointcutï¼‰ï¼šäº‹ç‰©åˆ‡ç‚¹å®šä¹‰äº†å“ªäº›æ–¹æ³•éœ€è¦è¢«äº‹ç‰©æ‹¦æˆªå™¨æ‹¦æˆªå¹¶åº”ç”¨äº‹ç‰©é€»è¾‘ã€‚åˆ‡ç‚¹é€šè¿‡è¡¨è¾¾å¼è¯­è¨€ï¼ˆå¦‚Springè¡¨è¾¾å¼è¯­è¨€ï¼‰æˆ–åŸºäºæ³¨è§£çš„æ–¹å¼æ¥æŒ‡å®šåŒ¹é…çš„æ–¹æ³•ã€‚Springæä¾›äº†çµæ´»çš„åˆ‡ç‚¹è¡¨è¾¾å¼æ¥æ»¡è¶³å„ç§ç²’åº¦çš„äº‹ç‰©æ§åˆ¶éœ€æ±‚ã€‚</li><li>äº‹ç‰©å±æ€§è§£æï¼šåœ¨å£°æ˜å¼äº‹ç‰©ä¸­ï¼Œäº‹ç‰©å±æ€§å¯ä»¥é€šè¿‡æ³¨è§£ï¼ˆå¦‚@Transactionalï¼‰æˆ–é…ç½®æ–‡ä»¶æ¥æŒ‡å®šã€‚äº‹ç‰©å±æ€§åŒ…æ‹¬éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€è¶…æ—¶è®¾ç½®ç­‰ã€‚Springä¼šè§£æäº‹ç‰©å±æ€§ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ–¹æ³•ä¸Šï¼Œä»¥ç¡®å®šäº‹ç‰©çš„è¡Œä¸ºã€‚äº‹ç‰©å±æ€§è§£æå™¨æ ¹æ®äº‹ç‰©å®šä¹‰çš„ä¼˜å…ˆçº§ï¼Œä»å…¨å±€é…ç½®æˆ–æ–¹æ³•çº§åˆ«çš„æ³¨è§£ä¸­è·å–äº‹ç‰©å±æ€§ã€‚</li><li>äº‹ç‰©ç®¡ç†å™¨ï¼ˆTransaction Managerï¼‰ï¼šäº‹ç‰©ç®¡ç†å™¨æ˜¯Springæ¡†æ¶çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚å®ƒè´Ÿè´£å¤„ç†å®é™…çš„äº‹ç‰©ç®¡ç†æ“ä½œï¼Œä¸åº•å±‚çš„æ•°æ®è®¿é—®æŠ€æœ¯ï¼ˆå¦‚JDBCã€Hibernateç­‰ï¼‰è¿›è¡Œäº¤äº’ã€‚äº‹ç‰©ç®¡ç†å™¨è´Ÿè´£äº‹ç‰©çš„åˆ›å»ºã€æäº¤å’Œå›æ»šï¼Œå¹¶ä¸å½“å‰çº¿ç¨‹è¿›è¡Œç»‘å®šã€‚Springæä¾›äº†å¤šç§äº‹ç‰©ç®¡ç†å™¨çš„å®ç°ï¼Œå¦‚<code>DataSourceTransactionManager</code>ã€<code>JpaTransactionManager</code>ç­‰ï¼Œå¯ä»¥æ ¹æ®å…·ä½“çš„æ•°æ®è®¿é—®æŠ€æœ¯è¿›è¡Œé…ç½®ã€‚</li><li>äº‹ç‰©åŒæ­¥å™¨ï¼ˆTransaction Synchronizationï¼‰ï¼šäº‹ç‰©åŒæ­¥å™¨ç”¨äºåœ¨äº‹ç‰©çš„ä¸åŒé˜¶æ®µæ³¨å†Œå›è°ƒæ–¹æ³•ã€‚åœ¨äº‹ç‰©æäº¤æˆ–å›æ»šæ—¶ï¼Œäº‹ç‰©åŒæ­¥å™¨ä¼šè§¦å‘æ³¨å†Œçš„å›è°ƒæ–¹æ³•ï¼Œä»¥æ‰§è¡Œä¸€äº›é¢å¤–çš„æ“ä½œã€‚ä¾‹å¦‚ï¼Œæ¸…ç†æ•°æ®åº“è¿æ¥ã€æäº¤ç¼“å­˜æ•°æ®ç­‰ã€‚Springåˆ©ç”¨äº‹ç‰©åŒæ­¥å™¨æ¥ç¡®ä¿ä¸äº‹ç‰©ç›¸å…³çš„èµ„æºçš„æ­£ç¡®ç®¡ç†å’Œé‡Šæ”¾ã€‚</li><li>äº‹ç‰©åˆ‡é¢ï¼ˆTransaction Aspectï¼‰ï¼šäº‹ç‰©åˆ‡é¢æ˜¯ç”±äº‹ç‰©æ‹¦æˆªå™¨å’Œäº‹ç‰©åˆ‡ç‚¹ç»„æˆçš„ï¼Œå®ƒå®šä¹‰äº†åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰ååº”ç”¨äº‹ç‰©é€»è¾‘çš„è§„åˆ™ã€‚äº‹ç‰©åˆ‡é¢é€šè¿‡AOPæŠ€æœ¯å°†äº‹ç‰©ç®¡ç†é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘è¿›è¡Œè§£è€¦ã€‚å½“ç›®æ ‡æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œäº‹ç‰©åˆ‡é¢ä¼šæ ¹æ®äº‹ç‰©å±æ€§çš„å®šä¹‰ï¼Œå†³å®šæ˜¯å¦å¼€å¯ã€æäº¤ã€‚</li></ol><br><h2 id="äº”ã€-transactional-æ³¨è§£çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#äº”ã€-transactional-æ³¨è§£çš„å‚æ•°"><span>äº”ã€@Transactional æ³¨è§£çš„å‚æ•°</span></a></h2><br><p>åœ¨å£°æ˜äº‹ç‰©ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦å’Œæ³¨è§£ @Transactional æ‰“äº¤é“ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰å¿…è¦æ¥æ·±å…¥ç†è§£ä¸€ä¸‹è¿™ä¸ªæ³¨è§£ä¸­çš„å‚æ•°é…ç½®ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">interface</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;"> Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">AliasFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;transactionManager&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> value</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // äº‹ç‰©ç®¡ç†å™¨ã€æš‚æ—¶å…ˆå¿½ç•¥å®ƒï¼Œæˆ‘ä»¬ä¹Ÿä¸ä¼šå»ä¿®æ”¹è¿™ä¸ªå‚æ•°çš„å€¼</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">AliasFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;value&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> transactionManager</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {}</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // äº‹ç‰©ä¼ æ’­è¡Œä¸º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    Propagation</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">REQUIRED</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // äº‹ç‰©éš”ç¦»çº§åˆ«</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    Isolation</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> isolation</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Isolation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">DEFAULT</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // äº‹ç‰©è¶…æ—¶æ—¶é—´ -1ï¼Œä¸ºæ°¸ä¹…ä¸è¶…æ—¶ï¼Œ å•ä½æ˜¯ç§’</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> timeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // äº‹ç‰©è¶…æ—¶æ—¶é—´ï¼Œå¯ä»¥è®¾ç½®å•ä½ï¼Œæ¯”å¦‚ timeoutString = &quot;30s&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> timeoutString</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // æ˜¯å¦åªè¯»äº‹ç‰©</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> readOnly</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // å¯¹å“ªäº›å¼‚å¸¸è¿›è¡Œå›æ»š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    Class</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> extends Throwable</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rollbackFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {}</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // å¯¹å“ªäº›å¼‚å¸¸è¿›è¡Œå›æ»šã€å¼‚å¸¸å…¨é™å®šåã€‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">rollbackForClassName</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {}</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // å¯¹å“ªäº›å¼‚å¸¸ä¸å›æ»š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    Class</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> extends Throwable</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">noRollbackFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {}</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // å¯¹å“ªäº›å¼‚å¸¸ä¸å›æ»šã€å¼‚å¸¸å…¨é™å®šåã€‘</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">    String</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">[] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">noRollbackForClassName</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {}</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>rollbackForå’ŒrollbackForClassNameçš„åŒºåˆ«ï¼Œç›´æ¥æ¥çœ‹ä½¿ç”¨æ–¹å¼ã€‚ æœ€å¥½ä½¿ç”¨rollbackFor å¯ä»¥åœ¨ç¼–è¯‘çš„æ—¶å€™å°±å¸®æˆ‘ä¹°æ£€æŸ¥æ˜¯ä¸æ˜¯å¯¹çš„ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> rollbackForClassName</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;java.lang.Exception&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><br><p>@Transactional æ³¨è§£çš„å‚æ•°è™½ç„¶å¤šï¼Œä½†ç»å¤§éƒ¨åˆ†éƒ½å¾ˆå¥½ç†è§£ã€‚è¿™é‡Œä¸»è¦æ˜¯æ¥è¯´ä¸¤ä¸ªé‡è¦ä¸”ä¸å¥½ç†è§£çš„å‚æ•°<code>propagation</code> å’Œ <code>isolation</code></p><br><h3 id="propagation-äº‹ç‰©ä¼ æ’­è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#propagation-äº‹ç‰©ä¼ æ’­è¡Œä¸º"><span>propagation (äº‹ç‰©ä¼ æ’­è¡Œä¸º)</span></a></h3><br><p>äº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºæ˜¯æŒ‡ï¼š<!---->ã€‚å®ƒçš„é…ç½®å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:left;">å€¼ï¼ˆå°å†™æ–¹ä¾¿é˜…è¯»ï¼‰</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;">REQUIREDï¼ˆrequiredï¼‰<br> é»˜è®¤å€¼</td><td style="text-align:left;">1.å¦‚æœå½“å‰æ²¡æœ‰äº‹ç‰©ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ç‰©ï¼Œå¹¶å°†å½“å‰æ–¹æ³•ä½œä¸ºäº‹ç‰©çš„èµ·ç‚¹ã€‚<br> 2.å¦‚æœå½“å‰å·²ç»å­˜åœ¨äº‹ç‰©ï¼Œåˆ™åŠ å…¥åˆ°å½“å‰äº‹ç‰©ä¸­ï¼Œæˆä¸ºå½“å‰äº‹ç‰©çš„ä¸€éƒ¨åˆ†ã€‚<br> 3.å½“å‰äº‹ç‰©çš„æäº¤å’Œå›æ»šéƒ½å°†å½±å“åˆ°è¯¥æ–¹æ³•ã€‚</td></tr><tr><td style="text-align:left;">REQUIRES_NEW (requires_new)</td><td style="text-align:left;">1.æ— è®ºå½“å‰æ˜¯å¦å­˜åœ¨äº‹ç‰©ï¼Œéƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ç‰©ã€‚<br> 2.å¦‚æœå½“å‰å­˜åœ¨äº‹ç‰©ï¼Œåˆ™å°†å½“å‰äº‹ç‰©æŒ‚èµ·ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„äº‹ç‰©ã€‚<br> 3. å½“å‰æ–¹æ³•ç‹¬ç«‹äºå¤–éƒ¨äº‹ç‰©è¿è¡Œï¼Œå®ƒæœ‰è‡ªå·±çš„äº‹ç‰©è¾¹ç•Œã€‚</td></tr><tr><td style="text-align:left;">SUPPORTSï¼ˆsupportsï¼‰</td><td style="text-align:left;">1. å¦‚æœå½“å‰å­˜åœ¨äº‹ç‰©ï¼Œåˆ™åŠ å…¥åˆ°å½“å‰äº‹ç‰©ä¸­ï¼Œæˆä¸ºå½“å‰äº‹ç‰©çš„ä¸€éƒ¨åˆ†ã€‚<br> 2.å¦‚æœå½“å‰æ²¡æœ‰äº‹ç‰©ï¼Œåˆ™ä»¥éäº‹ç‰©æ–¹å¼æ‰§è¡Œã€‚<br> 3.æ”¯æŒå½“å‰äº‹ç‰©çš„æ‰§è¡Œï¼Œä½†ä¸å¼ºåˆ¶è¦æ±‚å­˜åœ¨äº‹ç‰©ã€‚</td></tr><tr><td style="text-align:left;">NOT_SUPPORTED (not_supported)</td><td style="text-align:left;">1.ä»¥éäº‹ç‰©æ–¹å¼æ‰§è¡Œæ“ä½œã€‚<br> 2.å¦‚æœå½“å‰å­˜åœ¨äº‹ç‰©ï¼Œåˆ™å°†å…¶æŒ‚èµ·ã€‚<br>3.è¯¥æ–¹æ³•åœ¨ä¸€ä¸ªæ²¡æœ‰äº‹ç‰©çš„ç¯å¢ƒä¸­æ‰§è¡Œã€‚</td></tr><tr><td style="text-align:left;">NEVERï¼ˆneverï¼‰</td><td style="text-align:left;">1.ä»¥éäº‹ç‰©æ–¹å¼æ‰§è¡Œæ“ä½œã€‚<br> 2.å¦‚æœå½“å‰å­˜åœ¨äº‹ç‰©ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ï¼Œè¡¨ç¤ºä¸å…è®¸åœ¨äº‹ç‰©ä¸­æ‰§è¡Œè¯¥æ–¹æ³•ã€‚</td></tr><tr><td style="text-align:left;">MANDATORYï¼ˆmandatoryï¼‰</td><td style="text-align:left;">1.è¦æ±‚å½“å‰å­˜åœ¨äº‹ç‰©ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚<br> 2.è¯¥æ–¹æ³•å¿…é¡»åœ¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„äº‹ç‰©ä¸­è¢«è°ƒç”¨ã€‚</td></tr><tr><td style="text-align:left;">NESTED (nested)</td><td style="text-align:left;">1.å¦‚æœå½“å‰å­˜åœ¨äº‹ç‰©ï¼Œåˆ™åœ¨åµŒå¥—äº‹ç‰©ä¸­æ‰§è¡Œã€‚<br> 2.å¦‚æœå½“å‰æ²¡æœ‰äº‹ç‰©ï¼Œåˆ™è¡Œä¸ºç±»ä¼¼äº REQUIREDï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ç‰©ã€‚</td></tr></tbody></table><br><p>å­˜åœ¨äº‹ç‰©çš„æ—¶å€™REQUIREDå’ŒNESTEDçš„åŒºåˆ«ï¼šREQUIRED æ˜¯åŠ å…¥å½“å‰äº‹ç‰©ï¼Œæˆä¸ºå½“å‰äº‹ç‰©çš„ä¸€éƒ¨åˆ†ï¼ŒNESTED æ˜¯ç”ŸæˆåµŒå¥—äº‹ç‰©ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸¤ä¸ªäº‹ç‰©ã€‚ï¼ˆå…·ä½“åŒºåˆ«ä¸‹é¢å®è·µæ¼”ç¤ºï¼‰</p><br><h3 id="isolation-äº‹ç‰©éš”ç¦»çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#isolation-äº‹ç‰©éš”ç¦»çº§åˆ«"><span>isolationï¼ˆäº‹ç‰©éš”ç¦»çº§åˆ«ï¼‰</span></a></h3><p>å…¶å®å°±æ˜¯æˆ‘ä»¬ä¹‹å‰å­¦ä¹ æ•°æ®åº“æ—¶å€™çš„æ•°æ®åº“éš”ç¦»çº§åˆ«äº†ã€‚</p><table><thead><tr><th style="text-align:left;">å€¼ï¼ˆå°å†™æ–¹ä¾¿é˜…è¯»ï¼‰</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;">DEFAULT ï¼ˆdefaultï¼‰</td><td style="text-align:left;">é»˜è®¤çš„ï¼Œçœ‹å½“å‰æ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ä»€ä¹ˆã€‚</td></tr><tr><td style="text-align:left;">READ_UNCOMMITTED ï¼ˆread_uncommittedï¼‰</td><td style="text-align:left;">è¯»æœªæäº¤</td></tr><tr><td style="text-align:left;">READ_COMMITTED (read_committed)</td><td style="text-align:left;">è¯»å·²æäº¤</td></tr><tr><td style="text-align:left;">REPEATABLE_READ (repeatable_read)</td><td style="text-align:left;">å¯é‡å¤è¯»</td></tr><tr><td style="text-align:left;">SERIALIZABLE (serializable)</td><td style="text-align:left;">åºåˆ—åŒ–</td></tr></tbody></table><br><h2 id="å…­ã€-transactional-å®è·µ" tabindex="-1"><a class="header-anchor" href="#å…­ã€-transactional-å®è·µ"><span>å…­ã€@Transactional å®è·µ</span></a></h2><p>åœ¨ä½¿ç”¨ @Transactiona æ³¨è§£çš„æ—¶å€™ï¼Œä¸€å®šè¦è®¾ç½®rollbackForçš„å€¼ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯<!---->ï¼Œæ¯”å¦‚ IOExceptionã€SQLException ç­‰ã€‚</p><br><h3 id="ç†è®º" tabindex="-1"><a class="header-anchor" href="#ç†è®º"><span>ç†è®º</span></a></h3><br><p>åœ¨æ·±å…¥ç†è§£äº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸‰ä¸ªåŸºæœ¬çš„æ¦‚å¿µï¼Œç†è§£äº†å®ƒä»¬æˆ‘ä»¬å°±ç†è§£äº†äº‹ç‰©ä¼ æ’­è¡Œä¸ºã€‚å®ƒä»¬åˆ†åˆ«æ˜¯ï¼šåµŒå¥—äº‹ç‰©ã€æ–°äº‹ç‰©ã€å½“å‰äº‹ç‰©ã€‚</p><p>ä¸ºäº†ç†è§£æ–¹ä¾¿ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆçº¦å®šä¸€ä¸‹ï¼Œæœ‰ä¸¤ä¸ªäº‹ç‰©æ–¹æ³•Aå’ŒBï¼Œåœ¨Aé‡Œé¢è°ƒç”¨Bã€‚ä¸”Aäº‹ç‰©çš„å®šä¹‰å¦‚ä¸‹ä¸ä¼šæ”¹å˜ï¼ŒBäº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºå¯èƒ½ä¼šå˜ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    userMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">insertUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    sqlTestService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">B</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> B</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    userMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">insertUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;B&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h4 id="åµŒå¥—äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#åµŒå¥—äº‹ç‰©"><span>åµŒå¥—äº‹ç‰©</span></a></h4><p>ä¿®æ”¹Bäº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºï¼Œè®©å®ƒç”ŸæˆåµŒå¥—äº‹ç‰©</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> propagation</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">NESTED</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åµŒå¥—äº‹ç‰©å’Œçˆ¶äº‹ç‰©æ˜¯æœ‰å…³è”çš„ï¼Œå½“Aäº‹ç‰©å›æ»šçš„æ—¶å€™ï¼ŒBäº‹ç‰©ä¸€å®šå›æ»šã€‚</p><p>å½“Bäº‹ç‰©å¼‚å¸¸å›æ»šçš„æ—¶å€™ï¼Œè¦åˆ¤æ–­åœ¨Aé‡Œé¢æ˜¯å¦tryäº†Bäº‹ç‰©ï¼Œå¦‚æœtryå°±Aä¸ä¼šå›æ»šï¼Œåªæ˜¯Bå›æ»šã€‚</p><br><h4 id="æ–°äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#æ–°äº‹ç‰©"><span>æ–°äº‹ç‰©</span></a></h4><p>ä¿®æ”¹Bäº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºï¼Œè®©å®ƒç”Ÿæˆæ–°äº‹ç‰©</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> propagation</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">REQUIRES_NEW</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ—¢ç„¶éƒ½è¯´äº†æ˜¯æ–°äº‹ç‰©ï¼Œé‚£Aã€Bäº‹ç‰©æ²¡æœ‰ä»€ä¹ˆå¿…ç„¶çš„å…³ç³»äº†ã€‚</p><br><h4 id="å½“å‰äº‹ç‰©" tabindex="-1"><a class="header-anchor" href="#å½“å‰äº‹ç‰©"><span>å½“å‰äº‹ç‰©</span></a></h4><p>ä¿®æ”¹Bäº‹ç‰©çš„ä¼ æ’­è¡Œä¸ºï¼Œè®©å®ƒåŠ å…¥å½“å‰äº‹ç‰©</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> propagation</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">REQUIRED</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Transactional</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">rollbackFor</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Exception</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> propagation</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> Propagation</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">SUPPORTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ—¢ç„¶è¯´æ˜¯åŠ å…¥å½“å‰äº‹ç‰©ï¼Œé‚£å…¶å®æœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€ä¸ªäº‹ç‰©ï¼Œä¸ç®¡æ€ä¹ˆæ ·çš„å¼‚å¸¸ï¼Œä¹Ÿä¸ç®¡å¦‚ä½•å¤„ç†å¼‚å¸¸ï¼Œ<!----></p><br><h3 id="å®è·µ" tabindex="-1"><a class="header-anchor" href="#å®è·µ"><span>å®è·µ</span></a></h3><p>insertUser æ–¹æ³•å°±æ˜¯ä¸€ä¸ªç®€å•çš„æ’å…¥è¯­å¥ï¼Œä¸ºäº†é¿å…è¯¯ä¼šï¼Œè¿™é‡Œç›´æ¥ç»™å‡ºæ¥ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Insert</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;INSERT INTO t_users (`name`, `age`) VALUES (#{name}, #{age})&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> insertUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">String</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,@</span><span style="--shiki-light:#D73A49;--shiki-dark:#E5C07B;">Param</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;age&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">) </span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">Integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> age)</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><br><p>å¼‚å¸¸çš„è¯ï¼Œæ˜¯ç›´æ¥æ‰‹åŠ¨æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> RuntimeException</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;xxxxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><br><p>Bæ–¹æ³•æ˜¯å¦tryï¼šæ˜¯æŒ‡åœ¨Aæ–¹æ³•è°ƒç”¨Bæ–¹æ³•çš„æ—¶å€™ï¼Œæ˜¯å¦ä½¿ç”¨äº†try catch å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">    userMapper</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">insertUser</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;A&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        sqlTestService</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">B</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    }</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">Exception</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> e</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">        e</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">printStackTrace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><p>ä»£ç å¾ˆç®€å•ï¼Œæ¥å›å˜æ¢å¾ˆå¤šï¼Œå°±ä¸å±•ç¤ºäº†ï¼Œç›´æ¥ç»™æ‰§è¡Œç»“æœï¼š</p><table><thead><tr><th style="text-align:left;">Bäº‹ç‰©ç±»å‹</th><th style="text-align:left;">å¼‚å¸¸æ–¹æ³•</th><th style="text-align:left;">Bæ–¹æ³•æ˜¯å¦try</th><th style="text-align:left;">æ’å…¥æ•°æ®ç»“æœ</th></tr></thead><tbody><tr><td style="text-align:left;">æ–°äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">B</td></tr><tr><td style="text-align:left;">æ–°äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">B</td></tr><tr><td style="text-align:left;">æ–°äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">æ–°äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">A</td></tr><tr><td style="text-align:left;">åµŒå¥—äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åµŒå¥—äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åµŒå¥—äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åµŒå¥—äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">A</td></tr><tr><td style="text-align:left;">åŠ å…¥å½“å‰äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åŠ å…¥å½“å‰äº‹ç‰©</td><td style="text-align:left;">Aæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åŠ å…¥å½“å‰äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">å¦</td><td style="text-align:left;">ç©º</td></tr><tr><td style="text-align:left;">åŠ å…¥å½“å‰äº‹ç‰©</td><td style="text-align:left;">Bæ–¹æ³•</td><td style="text-align:left;">æ˜¯</td><td style="text-align:left;">ç©º</td></tr></tbody></table></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: ziyangtao@distinctclinic.com">ziyangtao</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/02SSM/01Spring/Java%E5%85%A8%E5%B1%80%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%EF%BC%8C@ControllerAdvice%E5%BC%82%E5%B8%B8%E6%8B%A6%E6%88%AA%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90%E3%80%90%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%E3%80%91.html" aria-label="ã€ä¸­ã€‘@ControllerAdviceå¼‚å¸¸æ‹¦æˆªåŸç†è§£æ"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ã€ä¸­ã€‘@ControllerAdviceå¼‚å¸¸æ‹¦æˆªåŸç†è§£æ</div></a><a class="route-link auto-link next" href="/02SSM/01Spring/SpringBoot%20%E7%83%AD%E6%8F%92%E6%8B%94AOP%EF%BC%8C%E5%8A%A8%E6%80%81%E7%9A%84%E5%AE%9E%E7%8E%B0AOP%E3%80%90%E7%AE%80%E5%8D%95%E6%98%93%E6%87%82%EF%BC%8C%E6%9C%89%E5%A4%A7%E7%94%A8%E3%80%91.html" aria-label="ã€ä¸­ã€‘åŠ¨æ€çš„å®ç°AOP"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">ã€ä¸­ã€‘åŠ¨æ€çš„å®ç°AOP<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-RyNrWDts.js" defer></script>
  </body>
</html>
